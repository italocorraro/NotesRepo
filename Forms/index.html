<!DOCTYPE html>
<html lang="it">
    <head>
        <script src="../source/redirect.js" defer></script>

        <title>Appunti html | Forms</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="../source/notes_general.css" type="text/css">

        <meta property="og:image" content="https://italocorraro.github.io/NotesRepo/source/Crocco.png" />
        <meta property="og:image:type" content="image/png" />
        <meta property="og:image:width" content="799" />
        <meta property="og:image:height" content="400" />        

        <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
        <link rel="stylesheet" href="../source/navstyle.css" type="text/css">
        <script src="../source/Navigazione2.js"></script>
        <link rel="icon" sizes="32x32" href="../source/Crocco.png" type="image/x-icon" class="htmlCodeFav" />
        <script src="snippets.js"></script>
        <script src="../source/highlight.js"></script>
        
        
        <style>
        .clearfix::after {
            content: '';
            display: table;
            clear: both;
        }
        :checked + label.colourme {
            background-color: brown;
        }
        label.colourme {
            background-color: goldenrod;
        }
        .solobox {
            cursor: pointer;
            display: block; 
            width: 2rem; 
            height: 2rem; 
            border: 0.2em solid yellowgreen;
            border-radius: 0.2em;
            margin-right: 0.2em;
        }
        #search_res > span {
            color: blue;
        }
        .evitamiaa label {
            cursor: pointer;
            user-select: none;
            &:hover {
                text-decoration: underline;
                color: darkgreen;
            }
        }
        </style>
    </head>
    <body class="content">

        <!-- Sezione Header -->
        <header class="main_header">
            <!-- Titolo Principale della pagina -->
            <h1>Appunti sui forms in html</h1>
        
            <!-- Sezione Sidebar Destra -->
            <aside class="sidebar_right">
                <!-- Table of Contents 
                     Gli oggetti all'interno sono organizzati ad albero 
                     secondo la gerarchia dei titoli h2-6 -->
                <nav id="indice"></nav>
            </aside>

            <!-- Sezione destrittiva della pagina -->
            <section>
                <!-- presentazione -->
                <p>Questa pagina copre alcuni degli argomenti dell'elemento forms e associati input</p>
                <!-- Overview -->
                <h2>Overview</h2>
                <div>
                    <p>I form sono elementi utilizzati per raccogliere dati immessi dall'utente per essere poi processati; 
                        tendenzialmente a svolgere quest'ultima parte è un server.</p>
                    <p class="notabene">Gli input hanno un formato pre-assegnato che varia in base al browser.</p>
                    <p class="nota">Gli elementi legati a un form hanno diverse pseudo-classi legate all'interazione con loro; vedi <a>qui</a>.</p>
                    <p class="nota">Un form ha generalmente necessità di essere validato prima dell'invio dei dati al server; la sezione sulla validazione dati è coperta <a>qui</a>.</p>
                    </div>
            </section>
        </header>
        
        <!-- Corpo principale della pagina -->
        <main>

            <!-- Porzione indipendente del corpo 1 -->
            <article>
                <h2>L'elemento &lt;form&gt;</h2>
                <!-- Sezione collassabile -->
                <div>
                    <p>Un <code class="tag">form</code> è un container per diversi elementi di input;
                        non è necessariamente visibile (non ha formati di default).</p>
                    <article>
                        <h3>L'attributo action</h3>
                        <p>Ad esempio <u id="htmlCode1"></u> indica dove inviare i dati per processarli</p>
                        <p class="notabene">se omesso, di default i dati verranno mandati alla pagina che li ha generati.</p>
                        <p>Si può decidere dove mostrare il risultato dell'elaborazione dei dati utilizzando 
                            l'attributo target esattamente come si fa per un elemento ancora</p>
                        <p id="form_test">Facciamo un esempio:
                            <s id="htmlCodeForm"></s>
                            <form action="#form_test" class="htmlCodeForm">
                                <input type="text" name="campo_nome" value="">
                                <input type="submit" value="Invia">
                            </form></p>
                        <p>Una volta compilato il form, possiamo inviare e osservare che i dati immessi appaiono 
                        a destra di <code>?</code> nell'url della pagina poiché i dati sono stati, 
                        di default, mandati alla pagina stessa che li ha generati. Fai una prova.
                        <div id="deposit_1" style="color: blue; background-color: rgba(192, 228, 15, 0.1); width: fit-content;"></div>
                        </p>
                        <p class="nota">JavaScript è in grado di gestire localmente i dati inviati da un form a una pagina;
                            il metodo (usato anche qui) viene discusso nella sezione JS riguardo le <a>URL API</a>.
                        </p>
                    </article>
                    <article>
                        <h3>L'attributo method</h3>
                        <p>L'attributo method permette di specificare il tipo di richiesta http da usare per inviare i dati.<br>
                            Di default il metodo è GET.</p>
                        <p class="notabene">GET passa i dati nell'head della richiesta, quindi sono VISIBILI dall'URL; 
                            il metodo POST è migliore per passare dati, poichè vengono messi nel body della richiesta e 
                            (quantomeno) non sono trasparenti.</p>
                    </article>
                    <article>
                        <h3 href="otherform">Altri attributi</h3>
                        <p>
                            <ul>
                                <li>L'attributo <code class="att">autocomplete</code> accetta solo <code class="string">"on"</code> o <code class="string">"off"</code> e determina se lasciare al 
                                    browser il permesso di compilare automaticamente il form in base ai dati in memoria</li>
                                <li>L'attributo <code class="att">novalidate</code> è un attributo boolenao e specifica in sua presenza di non validare l'input</li>
                                <li>L'attributo <code class="att">name</code> è utile per referenziare il form e i suoi dati; accetta testo</li>
                                <li>L'attributo <code class="att">rel</code> specifica la relazione tra il form e il destinatario</li>
                            </ul>
                        </p>
                    </article>
                </div>
            </article>

            <!-- Porzione indipendente del corpo 2 -->
            <article>
                <h2>L'elemento &lt;input&gt;</h2>
                <div>
                    <p>L'elemento che permette all'utente di immettere dati; l'aspetto e il tipo di dati accettati dipende dal tipo.<br>
                        Non è necessario inserirlo all'interno di un form; può esistere ed essere utilizzato anche da solo.</p>
                        <p class="notabene">Gli input hanno una formattazione diversa per ogni browser e gli stili 
                            applicabili sono limitati, il che rende difficile da formattare correttamente rispetto 
                            alla pagina senza sapere a priori il browser che la leggerà!</p>
                    <article>
                        <h3>Il tipo testo</h3>
                        <p>
                            L'input di tipo testuale è un input testuale a linea singola; questo è il suo aspetto preso da solo:
                            <s id="htmlCodeText"></s>
                            <input type="text" style="width: 70%;" class="htmlCodeText"><br>
                            Ha una larghezza limitata di default (qui è stato ingrandito).
                            <p class="notabene">il tipo <code class="string">"text"</code> è il tipo di default per ogni elemento <u id="htmlCodeInput"></u></p>
                        </p><p>Il tipo testo e gli altri input testuali accettano l'attributo <code class="att">placeholder</code>
                            che mostra un testo "finto" all'utente che sparisce quando l'input viene riempito:</p>
                            <s id="htmlCodePlaceholder"></s>
                            <input type="text" placeholder="Scrivi qui" class="htmlCodePlaceholder">
                    </article>
                    <article>
                        <h3>Il tipo password</h3>
                        <p>Vengono oscurati i caratteri inseriti:</p>
                        <s id="htmlCodePassword"></s>
                        <input type="password" style="width: 70%;" placeholder="Inserire password" class="htmlCodePassword">
                    </article>
                    <article>
                        <h3>Il tipo submit</h3>
                        <p>Simile a un pulsante; serve a inviare i dati immessi nel form a un form-handler (tipicamente un server):</p>
                        <s id="htmlCodeSubmit"></s>
                        <input type="submit" value="invia" class="htmlCodeSubmit"> (non funziona senza form)<p></p>

                        <div class="clearfix" style="display: grid; grid-template-columns: 60% 38%; gap: 0 1.8vw;"> 
                            <div>Si può usare anche un'immagine come pulsante di submit:
                            <s id="htmlCodeImage"></s>
                            Questo a destra è il pulsante di submit: <p class="notabene">questo invece funziona</p></div>
                            <form style="max-width: 30vw; max-height: 80rem; align-self: center;" class="htmlCodeImage">
                                <input type="text" name="test_immagine" value="" style="max-width: 30vw;"><br>
                                <input type="image" src="https://www.publicdomainpictures.net/pictures/210000/velka/red-arrow-14836430521Cn.jpg" alt="Submit" style="max-height: 20rem; max-width: 30vw;">
                            </form>
                        </div>
                        <p class="nota">per una validazione tramite JavaScript il submit è tipicamente sostituito da un bottone normale
                            che inizia lo script di validazione; se la validazione va a buon fine, è lo script stesso ad eseguire il submit.
                        </p>
                    </article>
                    <article>
                        <h3>Il tipo reset</h2>
                        <p>L'input di tipo reset riporta ai valori di default tutti i campi del form:</p>
                        <s id="htmlCodeReset"></s>
                        <form class="htmlCodeReset">
                            <input type="text" value="default">
                            <input type="reset" value="Reset">
                        </form>
                        
                    </article>
                    <article>
                        <h3>Il tipo radio</h3>
                        <p>L'input di tipo radio definisce una checkbox di cui solo 1 
                            tra quelle con lo stesso <code class="att">name</code> è selezionabile:</p>
                            <s id="htmlCodeRadio"></s>
                            <form class="htmlCodeRadio">
                                <input type="radio" id="html" name="fav_language" value="HTML">
                                <label for="html">HTML</label><br>
                                <input type="radio" id="css" name="fav_language" value="CSS">
                                <label for="css">CSS</label><br>
                                <input type="radio" id="javascript" name="fav_language" value="JavaScript">
                                <label for="javascript">JavaScript</label>
                            </form>
                    </article>
                    <article>
                        <h3>Il tipo checkbox</h3>
                        <p>L'input di tipo checkbox è una semplice checkbox indipendente:</p>
                        <s id="htmlCodeCheckbox"></s>
                        <form id="checkbox-basket" action="#checkbox-basket" class="htmlCodeCheckbox">
                            <input type="checkbox" id="mele" name="check_1" value="mele">
                            <label for="mele"> Hai delle mele?</label><br>
                            <input type="checkbox" id="pere" name="check_2" value="pere">
                            <label for="pere"> Hai delle pere?</label><br>
                            <input type="checkbox" style="display: none;" id="castagne" name="check_3" value="castagne">
                            <label for="castagne" class="colourme">Clicca qui se hai delle castagne</label><br>
                            <div style="display: flex; align-items: center; margin: 0.2em 0;">
                                <input type="checkbox" style="display: none;" id="patate" name="check_4" value="patate">
                                <label for="patate" class="colourme solobox"></label>
                                <span> Hai delle patate?</span>
                            </div>
                            <input type="submit" value="invia">
                        </form>
                        <div id="chbx_test"></div>
                        <p class="osservazione">Nelle ultime due checkbox si è nascosto l'<code class="tag">input</code> per usare invece la 
                            <code class="tag">label</code> come loro estensione grazie all'uso del selettore <code class="sm">:checked</code>.<br>
                            Infatti, "Hai delle patate?" non funge da estensione alla checkbox finale.<br>
                            Questo è il CSS che genera questo comportamento (nessuno script!):
                            <rp id="cssCodeCheckbox"></rp>
                        </p><p class="nota">
                            degli pseudo-attributi legati agli stati degli input si parla meglio <a href="../Selectors/#pseudo-classi-di-interazione">qui</a>.
                        </p>
                    </article>
                    <article>
                        <h3>Il tipo search</h2>
                        <p>Questo input è utilizzato per le ricerche, ma si comporta come un tipo testo fuso con submit:</p>
                        <s id="htmlCodeSearch"></s>
                        <form action="#il-tipo-search" class="htmlCodeSearch">
                            <label for="gsearch">Cerca qualcosa:</label>
                            <input type="search" id="gsearch" name="gsearch" placeholder="Cerca...">
                        </form>
                        <div id="search_res"></div>
                    </article>
                    <article>
                        <h3>Altri input speciali</h3>
                        <p>Una lista dei vari altri tipi di input; ciascuno ha un aspetto 
                            diverso in base al browser:</p>
                        <ul>
                            <li><b>Tipo nascosto:</b> non visibile; contiene di solito dati che non vanno modificati dall'utente:
                            <s id="htmlCodeHidden"></s></li>
                            <li><b>Tipo colore:</b> input che accetta solo colori:
                            <s id="htmlCodeColor"></s>
                            <input type="color" id="color" name="color" class="htmlCodeColor">
                            </li>
                            <li><b>Tipo data:</b> accetta una certa data:
                            <s id="htmlCodeDate"></s>
                            <input type="date" id="birthday" name="birthday" class="htmlCodeDate">
                            </li>
                            <li><b>Tipo data-locale:</b> uguale a sopra, ma senza time-zone:
                            <s id="htmlCodeLocalDate"></s>
                            <input type="datetime-local" id="data-locale" name="data-locale" class="htmlCodeLocalDate">
                            </li>
                            <li><b>Tipo email:</b> accetta solo indirizzi email:
                            <s id="htmlCodeEmail"></s>
                            <input type="email" id="email" name="email" placeholder="eg: nome.cognome@gmail.com" class="htmlCodeEmail">
                            </li>
                        </ul>
                    </article>
                    <article>
                        <h3>Restrizioni agli input</h3>
                        <p>Gli input possono essere ristretti tramite alcuni attributi:</p>
                        <ul></ul>
                    </article>
                </div>
            </article>

            <!-- Porzione indipendente del corpo 3 -->
            <article>
                <h2>L'elemento &lt;label&gt;</h2>
                <div>
                    <p>La <code class="tag">label</code> fornisce una dicitura associata ad un <code class="tag">input</code>.</p>
                    <p>L'area di selezione della label estende quella dell'input di tipo bottone, radio o checkbox; 
                        utile per quando sono troppo piccoli per essere selezionati o li si vuole nascondere alla vista per avere più libertà nello assegnare stili,
                         usando appunto la label in sostituzione del box booleano (come si è detto sopra, ha limitazioni dovute al browser), 
                         ma restituendo sempre un valore del tipo dell'input.</p>
                    <p>Ad esempio: <label for="checci" style="cursor: pointer; background-color: blanchedalmond; user-select: none;">
                        Clicca qui per la checkbox</label><i style="width: 0.1rem; height: 2rem; float: right; margin-right: 8rem; border-left: 0.4rem solid red;"></i>
                        <input type="checkbox" id="checci" style="transform: scale(0.4); float: right;">
                        <i style="width: 0.1rem; height: 2rem;float: right; border-right: 0.4rem solid red; "></i>
                    </p>
                    <p class="notabene">Perché funzioni correttamente, il valore dell'attributo <code class="att">for</code> della label 
                        deve essere uguale all'<code class="att">id</code> dell'elemento a cui è riferita: <br>
                        <s id="htmlCodeLabel"></s></p>
                    <p class="osservazione evitamiaa">non è necessario che la <code class="tag">label</code> sia vicina
                        all'<code class="tag">input</code> associato:<br>
                        <input type="checkbox" id="ceck1" /><label for="ceck2"> Label per la seconda checkbox.</label><br>
                        <input type="checkbox" id="ceck2" /><label for="ceck4"> Label per la quarta checkbox.</label><br>
                        <input type="checkbox" id="ceck3" /><label for="ceck1"> Label per la prima checkbox.</label><br>
                        <input type="checkbox" id="ceck4" /><label for="ceck3"> Label per la terza checkbox.</label>
                    </p>
                    <p class="osservazione evitamiaa">
                        non è nemmeno necessario che la label sia solo una; se ne possono avere di più:<br>
                        <label for="ceck2">Label per la seconda checkbox.</label>
                    </p>
                    </div>
            </article>

            <!-- Porzione indipendente del corpo 4 -->
            <article>
                <h2 id="button">L'elemento &lt;button&gt;</h2>
                <div>
                    <p>Il button costituisce uno degli elementi più utilizzati, in particolare come trigger per uno script. Un esempio:</p>
                    <button type="button" class="htmlCodeJoke joke">Cliccami per farmi cambiare colore!</button>
                    <div></div>
                    <p class="notabene">indicare il tipo dell'elemento button come button è buona norma per migliorare la compatibilità tra browser: <br>
                    <s id="htmlCodeJoke"></s>
                    </p>
                </div>
            </article>

            <article>
                <h2>L'elemento &lt;progress&gt;</h2>
                <p>Questo elemento mostra di default una barra di progrogresso in base al valore passato:</p>
                <progress class="htmlCodeProgress" max="100" value="70">Cetto</progress>
                <s id="htmlCodeProgress"></s>
            </article>

            <article>
                <h2>L'elemento &lt;select&gt;</h2>
                <div>
                    <p>L'elemento select è usato come contenitore per una lista dropdown di elementi <code class="tag">option</code>; ciascuno con assegnato il proprio valore:
                    <s id="htmlCodeSelect1"></s>
                    <ul>
                        <li>Il risultato è:
                        <form class="htmlCodeSelect1">
                            <label for="cars">Scegli una macchina</label>
                            <select id="cars" name="cars" size="1">
                                <option value="volvo">Volvo</option>
                                <option value="Fiat">Fiat</option>
                            </select>
                        </form></li>
                        <li>L'attributo <code class="att">size</code> indica il numero di elementi da mostrare: 
                        <select id="cars" name="cars" size="2">
                            <option value="volvo">Volvo</option>
                            <option value="Fiat">Fiat</option>
                        </select>
                            Con 2 come size</li>
                            <li>Si possono concedere più selezioni con l'attributo booleano (non prende valori) <code class="att">multiple</code><br>
                                per selezionare più opzioni bisogna tenere premuto <kbd>ctrl</kbd>: 
                            <select id="cars" name="cars" size="2" multiple>
                            <option value="volvo">Volvo</option>
                            <option value="Fiat">Fiat</option>
                        </select></li>
                    </ul></p>
                    <article>
                <h3>L'elemento &lt;optgroup&gt;</h3>
                <p><code class="tag">optgroup</code> fa da container per più elementi <code class="tag">option</code> in una lista <code class="tag">select</code>;
                    a questo elemento si assegna un attributo <code class="att">label</code>, 
                    il cui valore è riportato come titolo del gruppo di opzioni:</p>
                    <s id="htmlCodeOptgroup"></s>
                <p>
                <form class="htmlCodeOptgroup">
                    <select id="browsers" style="font-size: 1.5rem;">
                        <optgroup label="Primo Gruppo">
                            <option value="Edge">Edge</option>
                            <option value="Chrome">Chrome</option>
                        </optgroup>
                        <optgroup label="Secondo Gruppo">
                            <option value="Firefox">Firefox</option>
                            <option value="Opera">Opera</option>
                            <option value="Safari">Safari</option>
                        </optgroup>
                    </select>
                </form>
                </p>
            </article>
        </div>
            </article>

            <article>
                <h2>L'elemento &lt;textarea&gt;</h2><div>
                <p>L'elemento <code class="tag">textarea</code> definisce una sezione di testo modificabile sia in contenuto che in dimensioni:
                <s id="htmlCodeTextarea"></s>
                <div class="clearfix">
                <textarea  name="message" rows="4" cols="30" style="float: left; margin-right: 2rem;" class="htmlCodeTextarea">Questo messaggio è modificabile.
                </textarea>
                gli attributi <i class="htmlStyle att">rows</i> e <i class="htmlStyle att">cols</i> servono a modificare le dimensioni iniziali dell'area di testo.
                </div></p>
            </div></article>

            <article>
                <h2>Gli elementi &lt;fieldset&gt; e &lt;legend&gt;</h2><div>
                <p><code class="tag">fieldset</code> raggruppa dei dati in un form, mentre legend gli da una caption:</p>
                <s id="htmlCodeFieldset"></s>
                <p>
                    <form class="htmlCodeFieldset">
                        <fieldset style="border: 0.1em solid chocolate;">
                            <legend>Dati Personali:</legend>
                            <label for="fname">Nome:</label><br>
                            <input type="text" id="fname" name="fname" value="" placeholder="Inserire nome"><br>
                            <label for="lname">Cognome:</label><br>
                            <input type="text" id="lname" name="lname" value="" placeholder="Inserire cognome"><br>
                        </fieldset>
                    </form>
                </p>
            </div></article>

            <article>
                <h2>L'elemento &lt;datalist&gt;</h2><div>
                <p>Questo elemento specifica una lista di opzioni predefinite tra cui scegliere:</p>
                <s id="htmlCodeDatalist"></s>
            <p>Il contenuto di <code class="tag">option</code> viene mostrato sotto il valore come una piccola descrizione:
                <form class="htmlCodeDatalist">
                    <input list="browsers">
                    <datalist id="browsers">
                        <option value="Edge">Mircodoft standarf</option>
                        <option value="Firefox">yes yes yes</option>
                        <option value="Chrome">Googuloo engina</option>
                        <option value="Opera">commento commento</option>
                        <option value="Safari">Apple? LOL</option>
                    </datalist>
                </form>
            </p><p class="notabene">l'attributo <code class="att">list</code> dell'<code class="tag">input</code> deve essere lo stesso dell'<code class="att">id</code> del <code class="tag">datalist</code></p>
        </div></article>

            <article>
                <h2>L'elemento &lt;output&gt;</h2><div>
                <p>
                    L'elemento <i class="htmlStyle">&lt;output&gt;</i> serve a generare il risultato di un'operazione tramite script con input forniti dall'utente
                </p>        
                <s id="htmlCodeOutput"></s>
                <p>
                    <form oninput="x.value=parseInt(a.value)+parseInt(b.value)" class="htmlCodeOutput"> 0
                        <input type="range"  id="a" name="a" value="50">
                        100 +
                        <input type="number" id="b" name="b" value="50">
                          =
                        <output name="x" for="a b"></output>
                    </form>
                </p>
            </div></article>
        </main>

        <script src="../source/functionalities.js"></script>
        <script>
            // form-handler interno
            $(function () {
                const params = new URLSearchParams(window.location.search);

                const chocco = params.get("campo_nome");
                if(chocco != null && chocco.trim() != "") {
                    const NOME = "Il nome che hai inserito è \"" + chocco.trim() + "\".";
                    $("#deposit_1").append(NOME);
                } else if (chocco != null) {
                    const NOME = "Non hai inserito nulla.";
                    $("#deposit_1").append(NOME);
                }

                const choccoletta = params.get("gsearch");
                (choccoletta != null) ? $("#search_res").append("Hai cercato: <span>" + choccoletta.trim()) + "</span>" : null ;

                
                let array = [];
                for(let j=0; j<4; j++) {
                    array[j] = params.get("check_"+(j+1));
                }
                    
                array = array.filter(x => x !== null);

                // Aggiunge 'delle' davanti a ogni elemento
                array = array.map(x => "delle " + x);

                let uscita = "";

                if (array.length === 1) {
                    uscita = array[0];
                } else if (array.length === 2) {
                    uscita = array[0] + " e " + array[1];
                } else if (array.length > 2) {
                    uscita = array.slice(0, -1).join(", ") + " e " + array[array.length - 1];
                }

                const sbrocco = uscita ? "Con te hai " + uscita + "." : "Non hai niente con te.";

                $("#chbx_test").append(sbrocco);
            });



            var gabbi = 0;
            $("button.joke").click(function() {
                gabbi++;
                if(gabbi<7) {
                $(this).next("div").append(function() {
                    $(".rimuovimi").slideUp("fast");
                    var lolz = "";
                    for(let i = 0; i < gabbi; i++) {
                            lolz += " Ha!";
                        }
                    let jokegab = `<p class="notabene rimuovimi">sei appena stato gabbato`;
                    if(gabbi==1) {jokegab += `!` + lolz;}
                    else if(gabbi<6) {jokegab += " " + gabbi + ` volte!` + lolz;}
                    else {return `<p class="notabene rimuovimi">PER AMOR DI DIO FERMATI!!!</p>`}
                    return jokegab + `</p>`;
                }
                    )}
                else {
                    $(this).slideUp("fast");
                    $(".rimuovimi").slideUp("fast");
                    $(this).next("div").append(`<p style="font-weight: bold;">Era necessario fermarti</p>`);
                }
            });

            
        </script>
        
    </body>
</html>